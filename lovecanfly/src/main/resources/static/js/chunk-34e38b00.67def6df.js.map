{"version":3,"sources":["webpack:///./src/view/manage/dashboard/Dashboard.vue?2678","webpack:///src/view/manage/dashboard/Dashboard.vue","webpack:///./src/view/manage/dashboard/Dashboard.vue?81b7","webpack:///./src/view/manage/dashboard/Dashboard.vue","webpack:///./src/view/manage/dashboard/Dashboard.vue?37e4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","$store","getters","attrs","on","init","model","value","callback","$$v","enableAdmin","expression","_e","slot","_v","toArticle","directives","name","rawName","_s","articlesCount","toCategory","categoriesCount","dot","toComment","commentsCount","newViews","viewsCount","chartData","chartSettings","beforeConfig","lastLoginTime","newComments","staticRenderFns","component"],"mappings":"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","file":"js/chunk-34e38b00.67def6df.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",staticStyle:{\"padding\":\"0px 30px\"}},[_c('div',[_c('el-row',{staticStyle:{\"height\":\"40px\",\"padding\":\"10px 0px\"}},[(this.$store.getters.isAdmin)?_c('el-switch',{staticStyle:{\"display\":\"inline-block\",\"font-size\":\"12px\",\"float\":\"right\"},attrs:{\"active-text\":\"开启管理员模式\",\"active-color\":\"#13ce66\",\"inactive-color\":\"#d5dce6\"},on:{\"change\":_vm.init},model:{value:(_vm.enableAdmin),callback:function ($$v) {_vm.enableAdmin=$$v},expression:\"enableAdmin\"}}):_vm._e()],1),_c('div',{staticClass:\"dashboard-box\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"col-box\",attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":6,\"xl\":6}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"文章\")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\",\"font-size\":\"15px\"},attrs:{\"icon\":\"el-icon-connection\",\"type\":\"text\"},on:{\"click\":_vm.toArticle}})],1),_c('div',{staticClass:\"text\"},[_c('h5',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}]},[_vm._v(_vm._s(_vm.articlesCount))])])])],1),_c('el-col',{staticClass:\"col-box\",attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":6,\"xl\":6}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"分类\")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\",\"font-size\":\"15px\"},attrs:{\"icon\":\"el-icon-connection\",\"type\":\"text\"},on:{\"click\":_vm.toCategory}})],1),_c('div',{staticClass:\"text\"},[_c('h5',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading2),expression:\"loading2\"}]},[_vm._v(_vm._s(_vm.categoriesCount))])])])],1),_c('el-col',{staticClass:\"col-box\",attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":6,\"xl\":6}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"评论\")]),_c('el-badge',{staticStyle:{\"float\":\"right\"},attrs:{\"is-dot\":_vm.dot}},[_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\",\"font-size\":\"15px\"},attrs:{\"icon\":\"el-icon-connection\",\"type\":\"text\"},on:{\"click\":_vm.toComment}})],1)],1),_c('div',{staticClass:\"text\"},[_c('h5',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}]},[_vm._v(_vm._s(_vm.commentsCount))])])])],1),_c('el-col',{staticClass:\"col-box\",attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":6,\"xl\":6}},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"浏览量\")]),_c('el-tooltip',{attrs:{\"effect\":\"light\",\"placement\":\"left\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\" 新增访问量:\"+_vm._s(_vm.newViews)+\"噢~ \")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\",\"font-size\":\"15px\"},attrs:{\"icon\":\"el-icon-zoom-in\",\"type\":\"text\"}})],1)],1),_c('div',{staticClass:\"text\"},[_c('h5',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading1),expression:\"loading1\"}]},[_vm._v(_vm._s(_vm.viewsCount))])])])],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[(!_vm.enableAdmin)?_c('el-col',{staticClass:\"col-box\",attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":12,\"xl\":12}},[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading2),expression:\"loading2\"}]},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-date\"}),_vm._v(\" 新动态\")]),_c('p',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"距离上一次登录： \"+_vm._s(_vm.lastLoginTime))]),_c('p',{staticStyle:{\"margin\":\"20px 30px\"}},[_vm._v(\"新增评论 \"),_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\" \"+_vm._s(_vm.newComments)+\" \")]),_vm._v(\" 条 \")],1),_c('p',{staticStyle:{\"margin\":\"20px 30px\"}},[_vm._v(\"新增访问量 \"),_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\" \"+_vm._s(_vm.newViews)+\" \")]),_vm._v(\" 位 \")],1)])],1)],1):_c('el-col',{staticClass:\"col-box\",attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":15,\"xl\":15}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading2),expression:\"loading2\"}],staticStyle:{\"background-color\":\"#ffffff\",\"padding\":\"40px\",\"border-radius\":\"5px\"}},[_c('p',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"最近一周：\")]),_c('ve-histogram',{attrs:{\"data\":_vm.chartData,\"settings\":_vm.chartSettings,\"height\":\"280px\",\"before-config\":_vm.beforeConfig}})],1)])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\" style=\"padding: 0px 30px\">\r\n    <div>\r\n      <el-row style=\"height: 40px;padding: 10px 0px\">\r\n        <el-switch\r\n                v-if=\"this.$store.getters.isAdmin\"\r\n                v-model=\"enableAdmin\"\r\n                style=\"display: inline-block;font-size: 12px;float: right;\"\r\n                active-text=\"开启管理员模式\"\r\n                active-color=\"#13ce66\"\r\n                inactive-color=\"#d5dce6\"\r\n                @change=\"init\"\r\n        >\r\n        </el-switch>\r\n      </el-row>\r\n      <div class=\"dashboard-box\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"6\" :xl=\"6\" class=\"col-box\">\r\n            <el-card>\r\n              <div slot=\"header\">\r\n                <span>文章</span>\r\n                <el-button style=\"float: right; padding: 3px 0;font-size: 15px\" icon=\"el-icon-connection\"\r\n                           type=\"text\" @click=\"toArticle\"></el-button>\r\n              </div>\r\n              <div class=\"text\" >\r\n                <h5 v-loading=\"loading1\">{{articlesCount}}</h5>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n\r\n          <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"6\" :xl=\"6\" class=\"col-box\">\r\n            <el-card>\r\n              <div slot=\"header\">\r\n                <span>分类</span>\r\n                <el-button style=\"float: right; padding: 3px 0;font-size: 15px\" icon=\"el-icon-connection\"\r\n                           type=\"text\" @click=\"toCategory\"></el-button>\r\n              </div>\r\n              <div class=\"text\" >\r\n                <h5 v-loading=\"loading2\">{{categoriesCount}}</h5>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n\r\n          <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"6\" :xl=\"6\" class=\"col-box\">\r\n            <el-card>\r\n              <div slot=\"header\">\r\n                <span>评论</span>\r\n                <el-badge :is-dot=\"dot\" style=\"float: right;\">\r\n                  <el-button style=\"float: right; padding: 3px 0;font-size: 15px\" icon=\"el-icon-connection\"\r\n                             type=\"text\" @click=\"toComment\"></el-button>\r\n                </el-badge>\r\n              </div>\r\n              <div class=\"text\" >\r\n                <h5 v-loading=\"loading1\">{{commentsCount}}</h5>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n\r\n          <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"6\" :xl=\"6\" class=\"col-box\">\r\n            <el-card>\r\n              <div slot=\"header\">\r\n                <span>浏览量</span>\r\n                <el-tooltip effect=\"light\" placement=\"left\">\r\n                  <div slot=\"content\" >\r\n                    新增访问量:{{newViews}}噢~\r\n                  </div>\r\n                  <el-button style=\"float: right; padding: 3px 0;font-size: 15px\" icon=\"el-icon-zoom-in\"\r\n                             type=\"text\">\r\n                  </el-button>\r\n                </el-tooltip>\r\n              </div>\r\n              <div class=\"text\" >\r\n                <h5 v-loading=\"loading1\">{{viewsCount}}</h5>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\">\r\n          <el-col v-if=\"!enableAdmin\" :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"12\" :xl=\"12\" class=\"col-box\">\r\n            <el-tabs type=\"border-card\">\r\n              <el-tab-pane v-loading=\"loading2\">\r\n                <span slot=\"label\"><i class=\"el-icon-date\"></i> 新动态</span>\r\n                <p style=\"margin-top: 10px\">距离上一次登录： {{lastLoginTime}}</p>\r\n                <p style=\"margin: 20px 30px\">新增评论\r\n                  <el-tag type=\"danger\">\r\n                    {{newComments}}\r\n                  </el-tag>\r\n                  条\r\n                </p>\r\n                <p style=\"margin: 20px 30px\">新增访问量\r\n                  <el-tag type=\"warning\">\r\n                    {{newViews}}\r\n                  </el-tag>\r\n                  位\r\n                </p>\r\n\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n          </el-col>\r\n          <el-col v-else :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"15\" :xl=\"15\" class=\"col-box\">\r\n            <div style=\"background-color: #ffffff;padding: 40px;border-radius: 5px;\" v-loading=\"loading2\">\r\n              <p style=\"text-align: left\">最近一周：</p>\r\n              <ve-histogram :data=\"chartData\" :settings=\"chartSettings\" height=\"280px\"\r\n                       :before-config=\"beforeConfig\"></ve-histogram>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { getRequest } from '@/axios';\r\n\r\n  export default {\r\n    name: 'Dashboard',\r\n    data() {\r\n      return {\r\n        articlesCount: 0,\r\n        categoriesCount: 0,\r\n        commentsCount: 0,\r\n        viewsCount: 0,\r\n\r\n        lastLoginTime:'',\r\n        newComments: 0,\r\n        newViews: 0,\r\n\r\n        loading1: false,\r\n        loading2: false,\r\n\r\n        //https://v-charts.js.org/#/histogram\r\n        chartSettings: {\r\n          axisSite: { right: ['新浏览量'] },\r\n          yAxisType: ['normal', 'normal'],\r\n          // yAxisName: ['新评论', '新浏览量'],\r\n          min: [0, 0]\r\n        },\r\n        chartData: {\r\n          columns: ['recordCreateTime', 'newComments', 'newViews'],\r\n          rows: []\r\n        },\r\n\r\n        enableAdmin: false,\r\n      };\r\n    },\r\n\r\n\r\n    computed:{\r\n      dot () {\r\n        return (this.newComments>0)? true:false;\r\n      }\r\n    },\r\n\r\n    created() {\r\n      this.init();\r\n    },\r\n\r\n\r\n    methods: {\r\n      init(){\r\n        this.getDashboard();\r\n        this.getRecords();\r\n      },\r\n\r\n      getDashboard() {\r\n        this.loading1 = true;\r\n        getRequest(this.enableAdmin ? '/admin/dashboardCount' :'/article/dashboardCount').then(resp => {\r\n          this.loading1 = false;\r\n          if (resp.status == 200) {\r\n            const data = resp.data;\r\n            this.articlesCount = data.articlesCount;\r\n            this.categoriesCount = data.categoriesCount;\r\n            this.commentsCount = data.commentsCount;\r\n            this.viewsCount = data.viewsCount;\r\n          }\r\n        },err => {\r\n          this.loading1 = false;\r\n        }).catch(err => {\r\n          this.loading1 = false;\r\n          this.$message.error('操作失败');\r\n        });\r\n      },\r\n\r\n\r\n      getRecords() {\r\n        this.loading2 = true;\r\n        getRequest(this.enableAdmin?'/admin/scheduleRecords':'/record').then(resp => {\r\n          this.loading2 = false;\r\n          if (resp.status == 200) {\r\n            let data = resp.data;\r\n            if (this.enableAdmin){\r\n              this.chartData.rows = resp.data.reverse();\r\n            }else{\r\n              this.lastLoginTime = data.recordCreateTime;//后端把上次登入时间注入到record的recordCreateTime里\r\n              this.newComments = data.newComments;\r\n              this.newViews = data.newViews;\r\n            }\r\n          }\r\n        },err => {\r\n          this.loading2 = false;\r\n        }).catch(err => {\r\n          this.loading2 = false;\r\n          this.$message.error('请求数据失败');\r\n        });\r\n      },\r\n\r\n      beforeConfig(data) {\r\n        data.rows.forEach((item, index) => {\r\n          item.recordCreateTime = item.recordCreateTime.split(' ')[0];\r\n        });\r\n      },\r\n\r\n\r\n      toCategory() {\r\n        this.$router.push('/manage/category');\r\n      },\r\n\r\n      toArticle() {\r\n        this.$router.push('/manage/article');\r\n      },\r\n\r\n      toComment() {\r\n        this.$router.push('/manage/comment');\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .dashboard-box {\r\n    /*padding: 15px 40px;*/\r\n  }\r\n\r\n  .col-box {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .text {\r\n    font-size: 30px;\r\n  }\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=5ac67ab5&scoped=true&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&id=5ac67ab5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ac67ab5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&id=5ac67ab5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&id=5ac67ab5&scoped=true&lang=css&\""],"sourceRoot":""}