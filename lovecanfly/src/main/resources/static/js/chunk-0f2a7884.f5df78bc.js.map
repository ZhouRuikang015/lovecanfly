{"version":3,"sources":["webpack:///./src/view/manage/admin/UserManager.vue?2a30","webpack:///./src/view/manage/admin/UserManager.vue?8abe","webpack:///src/view/manage/admin/UserManager.vue","webpack:///./src/view/manage/admin/UserManager.vue?1e5d","webpack:///./src/view/manage/admin/UserManager.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","staticStyle","attrs","on","$event","getUsers","model","query","callback","$$v","$set","_v","_l","user","index","singleLoadings","key","username","slot","_s","nickname","handleDelete","userId","gender","email","registerTime","status","changeStatus","item","roleId","tagType","roleNameZh","changeRoles","roleIds","showRoleIds","roles","staticRenderFns","component"],"mappings":"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","file":"js/chunk-0f2a7884.f5df78bc.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManager.vue?vue&type=style&index=0&id=b46c175e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManager.vue?vue&type=style&index=0&id=b46c175e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"user-manager-body\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24,\"xl\":24}},[_c('el-radio-group',{staticStyle:{\"margin-right\":\"40px\",\"text-align\":\"left\"},on:{\"change\":function($event){return _vm.getUsers()}},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"已注册\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"待审核\")])],1),_c('el-input',{staticClass:\"input-body\",attrs:{\"placeholder\":\"通过用户昵称搜索\"},model:{value:(_vm.query.nicknameKeyword),callback:function ($$v) {_vm.$set(_vm.query, \"nicknameKeyword\", $$v)},expression:\"query.nicknameKeyword\"}}),_c('el-button',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.getUsers()}}},[_vm._v(\"搜索 \")])],1)],1),_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.users),function(user,index){return _c('el-col',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.singleLoadings[index]),expression:\"singleLoadings[index]\"}],key:user.username,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"xs\":12,\"sm\":12,\"md\":12,\"lg\":6,\"xl\":6}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(user.nickname))]),_c('el-button',{staticClass:\"delete-button\",attrs:{\"icon\":\"el-icon-delete\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDelete(user.userId)}}},[_vm._v(\"删除 \")])],1),_c('div',{staticClass:\"form-body\"},[_c('p',{staticClass:\"pText\"},[_vm._v(\"用户名：\"+_vm._s(user.username))]),_c('p',{staticClass:\"pText\"},[_vm._v(\"性别：\"+_vm._s(user.gender == 1? '男':'女'))]),_c('p',{staticClass:\"pText\"},[_vm._v(\"邮箱：\"+_vm._s(user.email))]),_c('p',{staticClass:\"pText\"},[_vm._v(\"注册时间：\"+_vm._s(user.registerTime))]),(_vm.query.status!=2)?_c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('p',{staticClass:\"pText\",staticStyle:{\"display\":\"inline\"}},[_vm._v(\" 状态： \")]),_c('el-switch',{staticStyle:{\"display\":\"inline-block\",\"font-size\":\"12px\"},attrs:{\"active-text\":\"启用\",\"inactive-text\":\"封禁\",\"active-value\":1,\"inactive-value\":0,\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":function($event){return _vm.changeStatus(user.userId,user.status,index,false)}},model:{value:(user.status),callback:function ($$v) {_vm.$set(user, \"status\", $$v)},expression:\"user.status\"}})],1),_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('p',{staticClass:\"pText\",staticStyle:{\"display\":\"inline\"}},[_vm._v(\" 角色： \")]),_vm._l((user.roles),function(item,index){return _c('el-tag',{key:item.roleId,staticClass:\"fa fa-user\",staticStyle:{\"margin\":\"0px 2px\"},attrs:{\"type\":_vm.tagType[item.roleId -1],\"size\":\"mini\"}},[_vm._v(\" \"+_vm._s(item.roleNameZh)+\" \")])}),_c('el-popover',{attrs:{\"placement\":\"right-end\",\"width\":\"160\"},on:{\"hide\":function($event){return _vm.changeRoles(_vm.roleIds,user.userId,index)}}},[_c('p',{staticClass:\"pText\"},[_vm._v(\"更改角色\")]),_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\",\"size\":\"mini\"},model:{value:(_vm.roleIds),callback:function ($$v) {_vm.roleIds=$$v},expression:\"roleIds\"}},_vm._l((_vm.allRoles),function(item,index){return _c('el-option',{key:item.roleId,attrs:{\"label\":item.roleNameZh,\"value\":item.roleId}})}),1),_c('el-button',{staticStyle:{\"color\":\"#f07724\"},attrs:{\"slot\":\"reference\",\"type\":\"text\",\"size\":\"mini\",\"icon\":\"fa fa-plus-square\"},on:{\"click\":function($event){return _vm.showRoleIds(user.roles)}},slot:\"reference\"})],1)],2)]):_c('div',[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"fa fa-futbol-o\"},on:{\"click\":function($event){return _vm.changeStatus(user.userId,1,index, true)}}},[_vm._v(\" 审核通过 \")])],1)])])],1)}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"user-manager-body\" v-loading=\"loading\">\r\n      <el-row style=\"margin-bottom: 10px\">\r\n        <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" :xl=\"24\" >\r\n          <el-radio-group v-model=\"query.status\" @change=\"getUsers()\" style=\"margin-right: 40px;text-align: left;\">\r\n            <el-radio :label=\"1\">已注册</el-radio>\r\n            <el-radio :label=\"2\">待审核</el-radio>\r\n          </el-radio-group>\r\n          <el-input v-model=\"query.nicknameKeyword\" placeholder=\"通过用户昵称搜索\" class=\"input-body\"></el-input>\r\n          <el-button type=\"primary\" style=\"display: inline-block;\" icon=\"el-icon-search\" @click=\"getUsers()\">搜索\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n\r\n      <el-row :gutter=\"20\">\r\n        <el-col v-for=\"(user,index) in users\" :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"6\" :xl=\"6\"\r\n                :key=\"user.username\"\r\n                v-loading=\"singleLoadings[index]\" style=\"margin-bottom:20px\">\r\n          <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <span>{{user.nickname}}</span>\r\n              <el-button @click=\"handleDelete(user.userId)\"\r\n                         class=\"delete-button\"\r\n                         icon=\"el-icon-delete\"\r\n                         type=\"text\">删除\r\n              </el-button>\r\n            </div>\r\n            <div class=\"form-body\">\r\n              <p class=\"pText\">用户名：{{user.username}}</p>\r\n              <p class=\"pText\">性别：{{user.gender == 1? '男':'女'}}</p>\r\n              <p class=\"pText\">邮箱：{{user.email}}</p>\r\n              <p class=\"pText\">注册时间：{{user.registerTime}}</p>\r\n              <div v-if=\"query.status!=2\">\r\n                <div style=\"margin-bottom: 15px\">\r\n                  <p class=\"pText\" style=\"display: inline\">\r\n                    状态：\r\n                  </p>\r\n                  <el-switch\r\n                          v-model=\"user.status\"\r\n                          style=\"display: inline-block;font-size: 12px\"\r\n                          active-text=\"启用\"\r\n                          inactive-text=\"封禁\"\r\n                          :active-value=\"1\"\r\n                          :inactive-value=\"0\"\r\n                          active-color=\"#13ce66\"\r\n                          inactive-color=\"#ff4949\"\r\n                          @change=\"changeStatus(user.userId,user.status,index,false)\"\r\n                  >\r\n                  </el-switch>\r\n                </div>\r\n                <div style=\"margin-bottom: 15px\">\r\n                  <p class=\"pText\" style=\"display: inline\">\r\n                    角色：\r\n                  </p>\r\n                  <el-tag v-for=\"(item,index) in user.roles\"\r\n                          :key=\"item.roleId\"\r\n                          :type=\"tagType[item.roleId -1]\"\r\n                          size=\"mini\"\r\n                          class=\"fa fa-user\"\r\n                          style=\"margin: 0px 2px\"\r\n                  > {{item.roleNameZh}}\r\n                  </el-tag>\r\n\r\n                  <el-popover\r\n                          placement=\"right-end\"\r\n                          width=\"160\"\r\n                          @hide=\"changeRoles(roleIds,user.userId,index)\"\r\n                  >\r\n                    <p class=\"pText\">更改角色</p>\r\n                    <el-select v-model=\"roleIds\" multiple placeholder=\"请选择\" size=\"mini\">\r\n                      <el-option\r\n                              v-for=\"(item,index) in allRoles\"\r\n                              :key=\"item.roleId\"\r\n                              :label=\"item.roleNameZh\"\r\n                              :value=\"item.roleId\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    <el-button type=\"text\" size=\"mini\" icon=\"fa fa-plus-square\"\r\n                               style=\"color: #f07724;\" slot=\"reference\" @click=\"showRoleIds(user.roles)\"></el-button>\r\n                  </el-popover>\r\n                </div>\r\n              </div>\r\n              <div v-else>\r\n                <el-button type=\"warning\" icon=\"fa fa-futbol-o\" @click=\"changeStatus(user.userId,1,index, true)\"> 审核通过\r\n                </el-button>\r\n              </div>\r\n            </div>\r\n\r\n          </el-card>\r\n        </el-col>\r\n\r\n\r\n      </el-row>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { deleteRequest, getRequest, putRequest } from '@/axios';\r\n\r\n  export default {\r\n    name: 'UserManager',\r\n\r\n    data() {\r\n      return {\r\n        query: {\r\n          nicknameKeyword: '',\r\n          status: 1,\r\n          curPage: 1,\r\n          pageSize: 12\r\n        },\r\n\r\n        loading: false,\r\n        singleLoadings: [],\r\n\r\n        users: [],\r\n\r\n        tagType: ['danger', 'success', 'warning', 'primary'],\r\n\r\n        allRoles: [],\r\n        roleIds: []\r\n      };\r\n    },\r\n\r\n\r\n    created() {\r\n      this.singleLoadings = Array.apply(null, Array(12)).map(function(item, i) {\r\n        return false;\r\n      });\r\n      this.getUsers();\r\n      this.getAllRoles();\r\n    },\r\n\r\n    methods: {\r\n      getUsers() {\r\n        this.loading = true;\r\n        getRequest('/admin/user/all', this.query).then(resp => {\r\n          this.loading = false;\r\n          if (resp.status == 200) {\r\n            this.users = resp.data.list;\r\n          }\r\n        }, err => {\r\n          this.loading = false;\r\n        }).catch(err => {\r\n          this.loading = false;\r\n        });\r\n      },\r\n\r\n\r\n      getAllRoles() {\r\n        getRequest('/admin/role/all').then(resp => {\r\n          if (resp.status == 200) {\r\n            this.allRoles = resp.data;\r\n          }\r\n        });\r\n      },\r\n\r\n\r\n      changeStatus(userId, status, index, isNewUser) {\r\n        this.singleLoadings.splice(index, 1, true);\r\n        putRequest('/admin/user/status', {\r\n          userId: userId,\r\n          status: status,\r\n          isNewUser: isNewUser\r\n        }).then(resp => {\r\n          if (resp.status == 200) {\r\n            this.singleLoadings.splice(index, 1, false);\r\n            this.getUsers();\r\n          }\r\n        })\r\n      },\r\n\r\n      handleDelete(userId) {\r\n        this.$confirm('删除该用户，是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$confirm('该用户下的所有文章、分类、评论均会被删除，是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'info'\r\n          }).then(() => {\r\n            deleteRequest('/admin/user/' + userId).then(resp => {\r\n              if (resp.status == 200) {\r\n                this.getUsers();\r\n              }\r\n            })\r\n          })\r\n        })\r\n      },\r\n\r\n      showRoleIds(roles) {\r\n        this.roleIds = [];\r\n        roles.forEach((item, index) => {\r\n          this.roleIds.push(item.roleId);\r\n        });\r\n      },\r\n\r\n      changeRoles(roleIds, userId, index) {\r\n\r\n        if (roleIds.length == 0) {\r\n          this.$message.error('角色不可为空');\r\n          return false;\r\n        }\r\n        putRequest('/admin/user/roles', {\r\n          roleIds: roleIds,\r\n          userId: userId\r\n        }).then(resp => {\r\n          if (resp.status == 200) {\r\n            this.getUserByUserId(userId, index);\r\n          }\r\n        })\r\n      },\r\n\r\n      getUserByUserId(userId, index) {\r\n        //splice带刷新功能（体验得..\r\n        this.singleLoadings.splice(index, 1, true);\r\n        getRequest('/admin/user/' + userId).then(resp => {\r\n          if (resp.status == 200) {\r\n            this.singleLoadings.splice(index, 1, false);\r\n            this.users.splice(index, 1, resp.data);\r\n          }\r\n        })\r\n      }\r\n\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .user-manager-body {\r\n    padding: 0px 20px;\r\n  }\r\n\r\n  .input-body {\r\n    width: 30%;\r\n    display: inline-block;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .delete-button {\r\n    float: right;\r\n    padding: 3px 0;\r\n    color: red;\r\n  }\r\n\r\n\r\n  .form-body {\r\n    padding: 10px;\r\n  }\r\n\r\n  .pText {\r\n    margin-bottom: 15px;\r\n    font-size: 14px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManager.vue?vue&type=template&id=b46c175e&scoped=true&\"\nimport script from \"./UserManager.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserManager.vue?vue&type=style&index=0&id=b46c175e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b46c175e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}