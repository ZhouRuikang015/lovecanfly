{"version":3,"sources":["webpack:///./src/view/manage/article/Article.vue?0216","webpack:///./src/view/manage/article/Article.vue?86fc","webpack:///src/view/manage/article/Article.vue","webpack:///./src/view/manage/article/Article.vue?4c93","webpack:///./src/view/manage/article/Article.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","deleteAll","_v","changeStatus","model","value","query","callback","$$v","$set","expression","key","handleSearch","handleClear","$store","getters","staticStyle","getBriefArticles","enableAdmin","_e","directives","name","rawName","ref","briefArticles","handleSelectionChange","scopedSlots","_u","fn","scope","row","status","_s","slot","userId","$event","selectByUserId","nickname","enableComment","handleEdit","$index","handleDelete","curPage","pageSize","pageTotal","handlePageChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-c2c9b3c0.f4bf6adb.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=0dfba9b1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=0dfba9b1&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_c('el-button',{staticClass:\"handle-del mr10\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.deleteAll}},[_vm._v(\"批量删除 \")]),_c('el-select',{staticClass:\"handle-select mr10\",attrs:{\"placeholder\":\"文章位置\"},on:{\"change\":_vm.changeStatus},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{key:\"-1\",attrs:{\"label\":\"全部文章\",\"value\":-1}}),_c('el-option',{key:\"1\",attrs:{\"label\":\"已发布\",\"value\":1}}),_c('el-option',{key:\"0\",attrs:{\"label\":\"回收站\",\"value\":0}}),_c('el-option',{key:\"2\",attrs:{\"label\":\"草稿箱\",\"value\":2}})],1),_c('el-input',{staticClass:\"handle-input mr10\",attrs:{\"placeholder\":\"通过标题搜索\"},model:{value:(_vm.query.keyword),callback:function ($$v) {_vm.$set(_vm.query, \"keyword\", $$v)},expression:\"query.keyword\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.handleClear}},[_vm._v(\"重置\")]),(this.$store.getters.isAdmin)?_c('el-switch',{staticStyle:{\"display\":\"inline-block\",\"font-size\":\"12px\",\"float\":\"right\"},attrs:{\"active-text\":\"开启管理员模式\",\"active-color\":\"#13ce66\",\"inactive-color\":\"#d5dce6\"},on:{\"change\":_vm.getBriefArticles},model:{value:(_vm.enableAdmin),callback:function ($$v) {_vm.enableAdmin=$$v},expression:\"enableAdmin\"}}):_vm._e()],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.briefArticles,\"border\":\"\",\"header-cell-class-name\":\"table-header\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"categoryName\",\"label\":\"所属分类\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"文章状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.status=== 1?'success':(scope.row.status=== 0?'danger':'warning')}},[_vm._v(\" \"+_vm._s(scope.row.status=== 1?'已发布':(scope.row.status=== 0?'回收站':'草稿箱'))+\" \")])]}}])}),(_vm.enableAdmin)?_c('el-table-column',{attrs:{\"label\":\"所属用户\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"light\",\"placement\":\"right-end\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"UID:\"+_vm._s(scope.row.userId)+\" \")]),_c('el-button',{staticStyle:{\"color\":\"#6ffcff\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-user\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.selectByUserId(scope.row.userId)}}},[_vm._v(_vm._s(scope.row.nickname)+\" \")])],1)]}}],null,false,2371404848)}):_vm._e(),_c('el-table-column',{attrs:{\"prop\":\"enableComment\",\"label\":\"允许评论\",\"width\":\"60px\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.status=== 1?'success':(scope.row.status=== 0?'danger':'warning')}},[_vm._v(\" \"+_vm._s(scope.row.enableComment=== 1?'是':'否')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"views\",\"label\":\"浏览量\",\"width\":\"60px\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"最近编辑时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(_vm._s(scope.row.status!=0?'修改':'重新发布')+\" \")]),_c('el-button',{staticClass:\"red\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(_vm._s(scope.row.status!=0?'删除':'彻底删除')+\" \")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.query.curPage,\"page-size\":_vm.query.pageSize,\"total\":_vm.pageTotal},on:{\"current-change\":_vm.handlePageChange}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"container\">\r\n      <div class=\"handle-box\">\r\n        <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-delete\"\r\n                class=\"handle-del mr10\"\r\n                @click=\"deleteAll\"\r\n        >批量删除\r\n        </el-button>\r\n        <el-select @change=\"changeStatus\" v-model=\"query.status\" placeholder=\"文章位置\" class=\"handle-select mr10\">\r\n          <el-option key=\"-1\" label=\"全部文章\" :value=\"-1\"></el-option>\r\n          <el-option key=\"1\" label=\"已发布\" :value=\"1\"></el-option>\r\n          <el-option key=\"0\" label=\"回收站\" :value=\"0\"></el-option>\r\n          <el-option key=\"2\" label=\"草稿箱\" :value=\"2\"></el-option>\r\n        </el-select>\r\n        <el-input v-model=\"query.keyword\" placeholder=\"通过标题搜索\" class=\"handle-input mr10\"></el-input>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">搜索</el-button>\r\n        <el-button type=\"info\" plain @click=\"handleClear\">重置</el-button>\r\n        <el-switch\r\n                v-if=\"this.$store.getters.isAdmin\"\r\n                v-model=\"enableAdmin\"\r\n                style=\"display: inline-block;font-size: 12px;float: right;\"\r\n                active-text=\"开启管理员模式\"\r\n                active-color=\"#13ce66\"\r\n                inactive-color=\"#d5dce6\"\r\n                @change=\"getBriefArticles\"\r\n        >\r\n        </el-switch>\r\n      </div>\r\n      <el-table\r\n              v-loading=\"loading\"\r\n              :data=\"briefArticles\"\r\n              border\r\n              class=\"table\"\r\n              ref=\"multipleTable\"\r\n              header-cell-class-name=\"table-header\"\r\n              @selection-change=\"handleSelectionChange\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"title\" label=\"标题\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"categoryName\" label=\"所属分类\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"文章状态\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag :type=\"scope.row.status=== 1?'success':(scope.row.status=== 0?'danger':'warning')\"\r\n            >\r\n              {{scope.row.status=== 1?'已发布':(scope.row.status=== 0?'回收站':'草稿箱')}}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column v-if=\"enableAdmin\" label=\"所属用户\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tooltip effect=\"light\" placement=\"right-end\">\r\n              <div slot=\"content\">UID:{{scope.row.userId}}\r\n              </div>\r\n              <el-button\r\n                      type=\"text\"\r\n                      icon=\"el-icon-user\"\r\n                      size=\"mini\"\r\n                      style=\"color: #6ffcff\"\r\n                      @click=\"selectByUserId(scope.row.userId)\"\r\n              >{{scope.row.nickname}}\r\n              </el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"enableComment\" label=\"允许评论\" width=\"60px\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag :type=\"scope.row.status=== 1?'success':(scope.row.status=== 0?'danger':'warning')\"\r\n            >\r\n              {{scope.row.enableComment=== 1?'是':'否'}}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"views\" label=\"浏览量\" width=\"60px\" align=\"center\"></el-table-column>\r\n\r\n        <el-table-column prop=\"updateTime\" label=\"最近编辑时间\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                    type=\"text\"\r\n                    icon=\"el-icon-edit\"\r\n                    @click=\"handleEdit(scope.$index, scope.row)\"\r\n            >{{scope.row.status!=0?'修改':'重新发布'}}\r\n            </el-button>\r\n            <el-button\r\n                    type=\"text\"\r\n                    icon=\"el-icon-delete\"\r\n                    class=\"red\"\r\n                    @click=\"handleDelete(scope.$index, scope.row)\"\r\n            >{{scope.row.status!=0?'删除':'彻底删除'}}\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n                background\r\n                layout=\"total, prev, pager, next\"\r\n                :current-page=\"query.curPage\"\r\n                :page-size=\"query.pageSize\"\r\n                :total=\"pageTotal\"\r\n                @current-change=\"handlePageChange\"\r\n        ></el-pagination>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import { deleteRequest, getRequest, putRequest } from '@/axios';\r\n\r\n  export default {\r\n    name: 'Article',\r\n    data() {\r\n      return {\r\n        briefArticles: [],\r\n        query: {\r\n          status: -1,\r\n          keyword: '',\r\n          curPage: 1,\r\n          pageSize: 7\r\n        },\r\n\r\n        multipleSelection: [],\r\n        deleteArticleIds: [],\r\n        pageTotal: 0,\r\n        loading: false,\r\n\r\n\r\n        enableAdmin: false,\r\n        adminSelectUserId: -1\r\n\r\n      };\r\n    },\r\n\r\n    created() {\r\n      this.getBriefArticles();\r\n    },\r\n\r\n    computed: {\r\n      refresh() {\r\n        return this.$store.state.refresh;\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      refresh() {\r\n        if (this.refresh != -1) {\r\n          this.query.curPage = 1;\r\n          this.query.status = -1;\r\n          this.query.keyword = '';\r\n          this.getBriefArticles();\r\n          this.$store.commit('refresh', -1);\r\n        }\r\n      }\r\n    },\r\n\r\n\r\n    methods: {\r\n      getBriefArticles() {\r\n        this.loading = true;\r\n        getRequest(this.enableAdmin ? '/admin/all/article/?userId=' + this.adminSelectUserId + '&' : '/article/all', this.query).then(resp => {\r\n          if (resp.status == 200) {\r\n            this.loading = false;\r\n            this.briefArticles = resp.data.list;\r\n            this.pageTotal = resp.data.total;\r\n          } else {\r\n            this.loading = false;\r\n          }\r\n        }, resp => {\r\n          this.loading = false;\r\n        }).catch(err => {\r\n          this.loading = false;\r\n        });\r\n      },\r\n\r\n      handlePageChange(val) {\r\n        this.$set(this.query, 'curPage', val);\r\n        this.getBriefArticles();\r\n      },\r\n\r\n      handleSearch() {\r\n        this.getBriefArticles();\r\n      },\r\n\r\n      selectByUserId(userId) {\r\n        this.adminSelectUserId = userId;\r\n        this.getBriefArticles();\r\n      },\r\n\r\n      handleClear() {\r\n        this.query.keyword = '';\r\n        this.query.curPage = 1;\r\n        this.query.status = -1;\r\n        this.adminSelectUserId = -1;\r\n        this.getBriefArticles();\r\n      },\r\n\r\n      changeStatus() {\r\n        this.query.curPage = 1;\r\n        this.getBriefArticles();\r\n      },\r\n\r\n      handleSelectionChange(val) {\r\n        this.multipleSelection = val;\r\n      },\r\n\r\n      deleteAll() {\r\n        this.$confirm(this.query.status != 0 ? '将这些文章放入回收站，是否继续?' : '永久删除这些文章, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          const length = this.multipleSelection.length;\r\n          this.deleteArticleIds = [];\r\n          for (let i = 0; i < length; i++) {\r\n            this.deleteArticleIds.push(this.multipleSelection[i].articleId);\r\n          }\r\n          this.delSelection(this.query.status);\r\n          this.deleteArticleIds = [];\r\n        }).catch(() => {\r\n        });\r\n      },\r\n\r\n      handleDelete(index, row) {\r\n        this.$confirm(row.status != 0 ? '将该文章放入回收站，是否继续?' : '永久删除该文章, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.deleteArticleIds = [];\r\n          this.deleteArticleIds.push(row.articleId);\r\n          this.delSelection(row.status);\r\n          this.deleteArticleIds = [];\r\n        }).catch(() => {\r\n        });\r\n      },\r\n\r\n      handleEdit(index, row) {\r\n        this.$confirm(row.status != 0 ? '修改该文章，是否继续?' : '重新发布该文章 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          if (row.status != 0) {\r\n            this.$store.commit('edit', row.articleId);\r\n            this.$router.push('/manage/writing');\r\n          } else {\r\n            putRequest('/article/regain', {\r\n              articleId: row.articleId,\r\n              articleTags: row.articleTags\r\n            }).then(resp => {\r\n              if (resp.status == 200) {\r\n                var data = resp.data;\r\n                if (data.status == 'success') {\r\n                  this.getBriefArticles();\r\n                }\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n\r\n      delSelection(status) {\r\n        if (status != 0) {\r\n          putRequest('/article/trash', { articleIds: this.deleteArticleIds }).then(resp => {\r\n            if (resp.status == 200) {\r\n              var data = resp.data;\r\n              if (data.status == 'success') {\r\n                this.getBriefArticles();\r\n              }\r\n            }\r\n          })\r\n        } else {\r\n          deleteRequest('/article/', { articleIds: this.deleteArticleIds }).then(resp => {\r\n            if (resp.status == 200) {\r\n              var data = resp.data;\r\n              if (data.status == 'success') {\r\n                this.getBriefArticles();\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }\r\n\r\n\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .handle-box {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .handle-select {\r\n    width: 120px;\r\n  }\r\n\r\n  .handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n  }\r\n\r\n  .table {\r\n    width: 100%;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .red {\r\n    color: #ff0000;\r\n  }\r\n\r\n  .mr10 {\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .table-td-thumb {\r\n    display: block;\r\n    margin: auto;\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=0dfba9b1&scoped=true&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=0dfba9b1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0dfba9b1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}