{"version":3,"sources":["webpack:///./src/view/manage/category/Category.vue?a15a","webpack:///./src/view/manage/category/Category.vue?a719","webpack:///src/view/manage/category/Category.vue","webpack:///./src/view/manage/category/Category.vue?eab0","webpack:///./src/view/manage/category/Category.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","$store","getters","attrs","on","getCategories","model","value","callback","$$v","enableAdmin","expression","_e","_v","categoryName","categoryDescribe","edit","$event","handleSave","handleCancer","changeStatus","query","$set","key","handleClear","directives","name","rawName","ref","categories","scopedSlots","_u","fn","scope","_s","row","articleNums","slot","userId","selectByUserId","nickname","handleEdit","$index","status","handleDelete","curPage","pageSize","pageTotal","handlePageChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-1f6b0685.6bf8360b.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&id=333eb0bc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=style&index=0&id=333eb0bc&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('div',{staticClass:\"container\",staticStyle:{\"padding\":\"15px 30px\"}},[_c('div',{staticClass:\"handle-box\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"15px\",\"width\":\"100%\"}},[(this.$store.getters.isAdmin)?_c('el-switch',{staticStyle:{\"display\":\"inline-block\",\"font-size\":\"12px\",\"float\":\"right\"},attrs:{\"active-text\":\"开启管理员模式\",\"active-color\":\"#13ce66\",\"inactive-color\":\"#d5dce6\"},on:{\"change\":_vm.getCategories},model:{value:(_vm.enableAdmin),callback:function ($$v) {_vm.enableAdmin=$$v},expression:\"enableAdmin\"}}):_vm._e()],1),_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"xs\":8,\"sm\":8,\"md\":8,\"lg\":8,\"xl\":8}},[_c('div',{staticClass:\"container-self\"},[_c('div',{staticClass:\"form-header\"},[_c('p',[_vm._v(\"添加分类\")])]),_c('div',{staticClass:\"form-body\"},[_c('p',{staticClass:\"pText\"},[_vm._v(\"名称*：\")]),_c('el-input',{staticClass:\"input-d mr\",attrs:{\"placeholder\":\"请输入分类名称\"},model:{value:(_vm.categoryName),callback:function ($$v) {_vm.categoryName=$$v},expression:\"categoryName\"}}),_c('p',{staticClass:\"pText\"},[_vm._v(\"描述：\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"请输入描述信息\",\"maxlength\":\"150\",\"show-word-limit\":\"\"},model:{value:(_vm.categoryDescribe),callback:function ($$v) {_vm.categoryDescribe=$$v},expression:\"categoryDescribe\"}}),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[(!_vm.edit)?_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSave()}}},[_vm._v(\"保存\")])],1):_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSave()}}},[_vm._v(\"更新\")]),_c('el-button',{attrs:{\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.handleCancer}},[_vm._v(\"取消修改\")])],1)])],1)])]),_c('el-col',{attrs:{\"xs\":16,\"sm\":16,\"md\":16,\"lg\":16,\"xl\":16}},[_c('div',{staticClass:\"container-self\"},[_c('div',{staticClass:\"form-header\"},[_c('p',{staticStyle:{\"display\":\"inline-block\"}},[_vm._v(\"分类列表 \"),_c('el-select',{staticClass:\"select-self\",attrs:{\"placeholder\":\"文章位置\"},on:{\"change\":_vm.changeStatus},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{key:\"-1\",attrs:{\"label\":\"全部文章\",\"value\":-1}}),_c('el-option',{key:\"1\",attrs:{\"label\":\"已发布\",\"value\":1}}),_c('el-option',{key:\"0\",attrs:{\"label\":\"回收站\",\"value\":0}}),_c('el-option',{key:\"2\",attrs:{\"label\":\"草稿箱\",\"value\":2}})],1)],1),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"info\",\"plain\":\"\"},on:{\"click\":_vm.handleClear}},[_vm._v(\"重置\")])],1),_c('div',{staticClass:\"form-body\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.categories,\"border\":\"\",\"header-cell-class-name\":\"table-header\"}},[_c('el-table-column',{attrs:{\"prop\":\"categoryName\",\"label\":\"类名\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"文章数\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\" \"+_vm._s(scope.row.articleNums)+\" \")])]}}])}),(_vm.enableAdmin)?_c('el-table-column',{attrs:{\"label\":\"所属用户\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"light\",\"placement\":\"right-end\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(\"UID:\"+_vm._s(scope.row.userId)+\" \")]),_c('el-button',{staticStyle:{\"color\":\"#6ffcff\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-user\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.selectByUserId(scope.row.userId)}}},[_vm._v(_vm._s(scope.row.nickname)+\" \")])],1)]}}],null,false,2371404848)}):_vm._e(),_c('el-table-column',{attrs:{\"prop\":\"categoryDescribe\",\"label\":\"描述\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"修改 \")]),(_vm.query.status == -1 && scope.row.articleNums == 0)?_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除 \")]):_vm._e()]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.query.curPage,\"page-size\":_vm.query.pageSize,\"total\":_vm.pageTotal},on:{\"current-change\":_vm.handlePageChange}})],1)],1)])])],1)],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <div class=\"container\" style=\"padding: 15px 30px\">\r\n        <div class=\"handle-box\">\r\n          <el-row  style=\"margin-bottom: 15px;width: 100%\">\r\n            <el-switch\r\n                    v-if=\"this.$store.getters.isAdmin\"\r\n                    v-model=\"enableAdmin\"\r\n                    style=\"display: inline-block;font-size: 12px;float: right\"\r\n                    active-text=\"开启管理员模式\"\r\n                    active-color=\"#13ce66\"\r\n                    inactive-color=\"#d5dce6\"\r\n                    @change=\"getCategories\"\r\n            >\r\n            </el-switch>\r\n          </el-row>\r\n\r\n          <el-row :gutter=\"15\">\r\n            <el-col :xs=\"8\" :sm=\"8\" :md=\"8\" :lg=\"8\" :xl=\"8\">\r\n              <div class=\"container-self\">\r\n                <div class=\"form-header\">\r\n                  <p>添加分类</p>\r\n                </div>\r\n                <div class=\"form-body\">\r\n                  <p class=\"pText\">名称*：</p>\r\n                  <el-input class=\"input-d mr\" v-model=\"categoryName\" placeholder=\"请输入分类名称\"></el-input>\r\n\r\n\r\n                  <p class=\"pText\">描述：</p>\r\n                  <el-input\r\n                          type=\"textarea\"\r\n                          :rows=\"5\"\r\n                          placeholder=\"请输入描述信息\"\r\n                          v-model=\"categoryDescribe\"\r\n                          maxlength=\"150\"\r\n                          show-word-limit\r\n                  >\r\n                  </el-input>\r\n                  <div style=\"margin-top: 20px\">\r\n                    <div v-if=!edit>\r\n                      <el-button type=\"primary\" @click=\"handleSave()\">保存</el-button>\r\n                    </div>\r\n                    <div v-else>\r\n                      <el-button type=\"primary\" @click=\"handleSave()\">更新</el-button>\r\n                      <el-button type=\"info\" plain @click=\"handleCancer\">取消修改</el-button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-col>\r\n            <el-col :xs=\"16\" :sm=\"16\" :md=\"16\" :lg=\"16\" :xl=\"16\">\r\n              <div class=\"container-self\">\r\n                <div class=\"form-header\">\r\n                  <p style=\"display: inline-block\">分类列表\r\n                    <el-select @change=\"changeStatus\" v-model=\"query.status\" placeholder=\"文章位置\" class=\"select-self\">\r\n                      <el-option key=\"-1\" label=\"全部文章\" :value=\"-1\"></el-option>\r\n                      <el-option key=\"1\" label=\"已发布\" :value=\"1\"></el-option>\r\n                      <el-option key=\"0\" label=\"回收站\" :value=\"0\"></el-option>\r\n                      <el-option key=\"2\" label=\"草稿箱\" :value=\"2\"></el-option>\r\n                    </el-select>\r\n                  </p>\r\n                  <el-button type=\"info\" plain @click=\"handleClear\" style=\"margin-left: 10px\" >重置</el-button>\r\n                </div>\r\n                <div class=\"form-body\">\r\n                  <el-table\r\n                          v-loading=\"loading\"\r\n                          :data=\"categories\"\r\n                          border\r\n                          class=\"table\"\r\n                          ref=\"multipleTable\"\r\n                          header-cell-class-name=\"table-header\"\r\n                  >\r\n                    <el-table-column prop=\"categoryName\" label=\"类名\" align=\"center\"></el-table-column>\r\n                    <el-table-column label=\"文章数\" align=\"center\">\r\n                      <template slot-scope=\"scope\">\r\n                        <el-tag type=\"warning\"\r\n                        >\r\n                          {{scope.row.articleNums}}\r\n                        </el-tag>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column v-if=\"enableAdmin\" label=\"所属用户\" align=\"center\">\r\n                      <template slot-scope=\"scope\">\r\n                        <el-tooltip effect=\"light\" placement=\"right-end\">\r\n                          <div slot=\"content\">UID:{{scope.row.userId}}\r\n                          </div>\r\n                          <el-button\r\n                                  type=\"text\"\r\n                                  icon=\"el-icon-user\"\r\n                                  size=\"mini\"\r\n                                  style=\"color: #6ffcff\"\r\n                                  @click=\"selectByUserId(scope.row.userId)\"\r\n                          >{{scope.row.nickname}}\r\n                          </el-button>\r\n                        </el-tooltip>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"categoryDescribe\" label=\"描述\" align=\"center\"></el-table-column>\r\n                    <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n                      <template slot-scope=\"scope\">\r\n                        <el-button\r\n                                type=\"text\"\r\n                                icon=\"el-icon-edit\"\r\n                                @click=\"handleEdit(scope.$index, scope.row)\"\r\n                        >修改\r\n                        </el-button>\r\n                        <el-button\r\n                                v-if=\"query.status == -1 && scope.row.articleNums == 0\"\r\n                                type=\"text\"\r\n                                icon=\"el-icon-delete\"\r\n                                style=\"color: red\"\r\n                                @click=\"handleDelete(scope.$index, scope.row)\"\r\n                        >删除\r\n                        </el-button>\r\n                      </template>\r\n                    </el-table-column>\r\n                  </el-table>\r\n                  <div class=\"pagination\">\r\n                    <el-pagination\r\n                            background\r\n                            layout=\"total, prev, pager, next\"\r\n                            :current-page=\"query.curPage\"\r\n                            :page-size=\"query.pageSize\"\r\n                            :total=\"pageTotal\"\r\n                            @current-change=\"handlePageChange\"\r\n                    ></el-pagination>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { deleteRequest, getRequest, postRequest, putRequest } from '@/axios';\r\n\r\n  export default {\r\n    name: 'Category',\r\n    data() {\r\n      return {\r\n        categoryId: -1,\r\n        categoryName: '',\r\n        categoryDescribe: '',\r\n\r\n        categories: [],\r\n\r\n        query: {\r\n          curPage: 1,\r\n          pageSize: 10,\r\n          status: -1\r\n        },\r\n\r\n        pageTotal: -1,\r\n\r\n        loading: false,\r\n        edit: false,\r\n\r\n        enableAdmin: false,\r\n        adminSelectUserId : -1\r\n      };\r\n    },\r\n\r\n    created() {\r\n      this.getCategories();\r\n    },\r\n\r\n    methods: {\r\n      getCategories() {\r\n        this.loading = true;\r\n        getRequest(this.enableAdmin ? '/admin/all/category/?userId='+ this.adminSelectUserId + '&':'/category/all', this.query).then(resp => {\r\n          if (resp.status == 200) {\r\n            this.loading = false;\r\n            this.categories = resp.data.list;\r\n            this.pageTotal = resp.data.total;\r\n          } else {\r\n            this.loading = false;\r\n          }\r\n        }, resp => {\r\n          this.loading = false;\r\n        }).catch(err => {\r\n          this.loading = false;\r\n        });\r\n      },\r\n\r\n      selectByUserId(userId) {\r\n        this.adminSelectUserId = userId;\r\n        this.getCategories();\r\n      },\r\n\r\n      handleClear() {\r\n        this.query.curPage = 1;\r\n        this.query.status = -1;\r\n        this.adminSelectUserId = -1;\r\n        this.getCategories();\r\n      },\r\n\r\n      changeStatus() {\r\n        this.query.curPage = 1;\r\n        this.getCategories();\r\n      },\r\n\r\n      handlePageChange(val) {\r\n        this.$set(this.query, 'curPage', val);\r\n        this.getCategories();\r\n      },\r\n\r\n      handleSave() {\r\n        if (this.categoryId != -1) {\r\n          putRequest('/category/', {\r\n            categoryId: this.categoryId,\r\n            categoryName: this.categoryName,\r\n            categoryDescribe: this.categoryDescribe\r\n          }).then(resp => {\r\n            if (resp.status == 200) {\r\n              this.getCategories();\r\n              this.categoryId = -1;\r\n              this.categoryName = '';\r\n              this.categoryDescribe = '';\r\n              this.edit = false;\r\n            }\r\n          })\r\n\r\n        } else {\r\n          if (this.enableAdmin){\r\n            this.$message.error('管理员模式下无法添加分类哦');\r\n            this.categoryName = '';\r\n            this.categoryDescribe = '';\r\n            return false;\r\n          }\r\n          postRequest('/category/', {\r\n            categoryName: this.categoryName,\r\n            categoryDescribe: this.categoryDescribe\r\n          }).then(resp => {\r\n            if (resp.status == 200) {\r\n              this.getCategories();\r\n              this.categoryName = '';\r\n              this.categoryDescribe = '';\r\n            }\r\n          })\r\n        }\r\n      },\r\n\r\n\r\n      handleEdit(index, row) {\r\n        this.categoryId = row.categoryId;\r\n        this.categoryName = row.categoryName;\r\n        this.categoryDescribe = row.categoryDescribe;\r\n        this.edit = true;\r\n      },\r\n\r\n      handleCancer() {\r\n        this.categoryId = -1;\r\n        this.categoryName = '';\r\n        this.categoryDescribe = '';\r\n        this.edit = false;\r\n      },\r\n\r\n      handleDelete(index, row) {\r\n        this.$confirm('删除此分类，是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          deleteRequest('/category/', {\r\n            categoryId: row.categoryId\r\n          }).then(resp => {\r\n            if (resp.status == 200) {\r\n              this.getCategories();\r\n            }\r\n          })\r\n        })\r\n      }\r\n    }\r\n\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .container-self {\r\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n    background-color: #fff;\r\n    width: 100%;\r\n    border-radius: 6px;\r\n  }\r\n\r\n  .form-header {\r\n    padding: 12px 30px;\r\n    border-bottom: 1px solid #d0d0d0;\r\n  }\r\n\r\n  .form-body {\r\n    padding: 20px 30px 40px 30px;\r\n  }\r\n\r\n  .pText {\r\n    margin: 25px 0px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .select-self {\r\n    margin-left: 30px;\r\n    height: 100%;\r\n    width: 150px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Category.vue?vue&type=template&id=333eb0bc&scoped=true&\"\nimport script from \"./Category.vue?vue&type=script&lang=js&\"\nexport * from \"./Category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Category.vue?vue&type=style&index=0&id=333eb0bc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"333eb0bc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}